# Specify the minimum version for CMake
cmake_minimum_required(VERSION 3.10)

# Project's name
project(miraxtract)

include_directories(include)

# Set the C++ standard
set(CMAKE_CXX_STANDARD 14)

file( GLOB_RECURSE LIBXTRACT_SOURCE "src/*.c" )

add_library( xtract STATIC ${LIBXTRACT_SOURCE} )
target_compile_definitions( xtract PUBLIC -DUSE_OOURA)


# Add executable target with source files listed in SOURCE_FILES variable
set(SOURCE_FILES tests/xttest_main.cpp tests/xttest_scalar.cpp tests/xttest_util.cpp)
add_executable(miraxtract_tests ${SOURCE_FILES})
target_link_libraries(miraxtract_tests xtract)

add_executable(miraxtract_example examples/simpletest/simpletest.cpp examples/simpletest/WaveFile.cpp)
target_link_libraries(miraxtract_example xtract)